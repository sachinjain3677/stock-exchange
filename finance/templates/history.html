<!--
#   C$50 Finance
#   Implement a website via which users can "buy" and "sell" stocks
#
#   Author:Julie Huang, julie@juliehuang.co.nz
#  
#   This file is an .html page extension of layout.html
# 
#   pset7 of CS50x
-->

{% extends "layout.html" %}

{% block title %}
    History
{% endblock %}

{% block main %}
    <form action="{{ url_for('history') }}" method="get">
        {% if p_iterable_range == range(0,0) and s_iterable_range == range(0,0) %}
        <h5 class = "sub-header">You have no history to display.</h5>
        {% endif %}
        <fieldset>
            <div class = "form-group">
                <table align = "center">
                {% if p_iterable_range != range(0,0) %}
                <tr bgcolor="#f7f7f7"><th colspan = 6>PURCHASES</th></tr>
                <tr>
                    <th>Date</th>
                    <th>Code</th>
                    <th>Name</th>
                    <th>Quantity</th>
                    <th>Price p/s</th>
                    <th><b>TOTAL</b></th>
                </tr>
                {% endif %}
                {% for i in p_iterable_range %}
                <tr>
                    <td>{{purchases[i]["date"]}}</td>
                    <td>{{purchases[i]["stock"]}}</td>
                    <td>{{purchases[i]["name"]}}</td>
                    <td>{{purchases[i]["quantity"]}}</td>
                    <td>{{usd(purchases[i]["price"])}}</td>
                    <td>{{usd(purchases[i]["total"])}}</td>
                </tr>
                {% endfor %}
                </table>
            </div>
            <div class = "form-group">
                <table align = "center">
                {% if s_iterable_range != range(0,0) %}
                <tr bgcolor="#f7f7f7"><th colspan = 6>SALES</th></tr>
                <tr>
                    <th>Date</th>
                    <th>Code</th>
                    <th>Name</th>
                    <th>Quantity</th>
                    <th>Price p/s</th>
                    <th><b>TOTAL</b></th>
                </tr>
                {% endif %}
                {% for i in s_iterable_range %}
                <tr>
                    <td>{{sales[i]["date"]}}</td>
                    <td>{{sales[i]["stock"]}}</td>
                    <td>{{sales[i]["name"]}}</td>
                    <td>{{sales[i]["quantity"]}}</td>
                    <td>{{usd(sales[i]["price"])}}</td>
                    <td>{{usd(sales[i]["total"])}}</td>
                </tr>
                {% endfor %}
                </table>
            </div>
        </fieldset>
    </form>
{% endblock %}